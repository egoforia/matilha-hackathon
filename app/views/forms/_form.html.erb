<script type="text/javascript">
  var types = <%= raw @types.to_json %>;
  var getTypeId = function(type) {
    for (var i in types)
      if (types[i].title == type)
        return types[i].id;
  };
  var questions = <%= raw @form.questions.to_json %>;

  var questionsAsDefault = function() {
    var defaults = []

    for (var i in questions) {
      var question = questions[i];

      defaults.push({
        label: "Pergunta",
        name: 'questions[' + i + '][title]',
        type: "text",
        value: question.title
      });
    }
  };
</script>

<%= form_for(@form) do |f| %>
  <div class="field">
    <%= f.label :name %><br>
    <%= f.text_field :name %>
  </div>

  <div class="row">
    <div class="col-sm-3">
      <h3>Adicionar campos</h3>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
    </div>
    <div class="col-sm-9">
      <h3>Formul√°rio de perguntas</h3>
    </div>
    <div class="col-xs-12">
      <div class="form-builder-wrapper" id="formBuilder"></div>
    </div>
  </div>

  <% if @form.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@form.errors.count, "error") %> prohibited this form from being saved:</h2>

      <ul>
      <% @form.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%#= f.label :lawyer_id %><br>
    <%#= f.text_field :lawyer_id %>
  </div>
  <div class="actions">
    <%#= f.submit %>
  </div>
<% end %>
